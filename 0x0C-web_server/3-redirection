#!/bin/bash

# Install Nginx if not already installed
apt-get update
apt-get -y install nginx

# Allow Nginx through the firewall
ufw allow 'Nginx HTTP'

# Create the document root directory if it doesn't exist
mkdir -p /var/www/html

# Create an index.html file with "Hello World!" content
echo 'Hello World!' > /var/www/html/index.html

# Use sed to configure the Nginx server block with the 301 redirect for /redirect_me
sed -i 's|location / {|location /redirect_me {\n    return 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;\n}\n\n    location / {|' /etc/nginx/sites-available/default

# Restart Nginx to apply the changes
service nginx restart
